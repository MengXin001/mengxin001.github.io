import{d as B,o as e,c as o,i as y,g as a,s as C,M as N,B as x,$ as O,a0 as Y,j as T,r as j,t as d,x as n,F as L,a as P,a1 as W,h as f,w as _,e as X,a2 as Z,a3 as G,l as J,k as K,Z as Q,v as U,a4 as ee,a5 as te,a6 as se,a7 as oe,b as $,a8 as ae,y as ne,X as re}from"./app-xtvO_iNw.js";import{_ as le}from"./SakuraPageHeader-_HfH-A4G.js";import"./SakuraDate.vue_vue_type_script_setup_true_lang-0tb3X7H7.js";const ce={class:"yun-card flex-center rounded",flex:"col","min-h":"100px",bg:"$va-c-bg-light"},ie=["src"],ue={key:1,class:"yun-card-header"},_e={key:2,class:"yun-card-content",w:"full"},de=B({__name:"SakuraCard",props:{cover:{}},setup(g){return(t,p)=>(e(),o("div",ce,[t.cover?(e(),o("img",{key:0,width:"640",height:"360",class:"object-cover select-none",h:"64 md:sm",w:"full",src:t.cover,loading:"lazy"},null,8,ie)):y("v-if",!0),t.$slots.header?(e(),o("div",ue,[a("header",null,[C(t.$slots,"header")])])):y("v-if",!0),C(t.$slots,"default"),t.$slots.content?(e(),o("div",_e,[C(t.$slots,"content")])):y("v-if",!0)]))}}),pe={class:"post-collapse px-10 lt-sm:px-5",relative:""},me={w:"full",text:"center",class:"yun-text-light",p:"2"},ve={class:"post-collapse-action",text:"center"},he={key:0,"i-ri-sort-desc":""},fe={key:1,"i-ri-sort-asc":""},ye={class:"collection-title","m-0":"",relative:""},ge=["id"],ke={class:"post-header",flex:"","items-center":"",relative:""},$e={class:"post-meta"},xe={key:0,class:"post-time",font:"mono",opacity:"80"},be={class:"post-title","inline-flex":"","items-center":"",font:"serif black"},Se=B({__name:"SakuraPostCollapse",props:{posts:{}},setup(g){const t=g,{t:p}=N(),m=x([]),i=x({});O(()=>t.posts,()=>{i.value={},m.value=[],t.posts.forEach(r=>{if(!(r.hide&&r.hide!=="index")&&r.date){const s=Number.parseInt(Y(r.date,"YYYY"));i.value[s]?i.value[s].push(r):(m.value.push(s),i.value[s]=[r])}})},{immediate:!0});const l=x(!0),k=T(()=>{const s=m.value.sort((v,c)=>c-v);return l.value?s:s.reverse()});return(r,s)=>{const v=j("RouterLink");return e(),o("div",pe,[a("div",me,d(n(p)("counter.archives",r.posts.length)),1),a("div",ve,[a("button",{class:"yun-icon-btn shadow hover:shadow-md",onClick:s[0]||(s[0]=c=>l.value=!l.value)},[l.value?(e(),o("div",he)):(e(),o("div",fe))])]),(e(!0),o(L,null,P(k.value,c=>(e(),o("div",{key:c,m:"b-6"},[a("div",ye,[a("h2",{id:`#archive-year-${c}`,class:"archive-year",text:"4xl",p:"y-2"},d(c),9,ge)]),(e(!0),o(L,null,P(n(W)(i.value[c],l.value),(u,b)=>(e(),o("article",{key:b,class:"post-item",relative:""},[a("header",ke,[a("div",$e,[u.date?(e(),o("time",xe,d(n(Y)(u.date,"MM-DD")),1)):y("v-if",!0)]),a("h2",be,[f(v,{to:u.path||"",class:"post-title-link"},{default:_(()=>[X(d(u.title),1)]),_:2},1032,["to"])])])]))),128))]))),128))])}}}),we={"inline-flex":"",my:"2",p:"1",class:"post-tag cursor-pointer items-baseline leading-4"},Ce={"inline-flex":""},Te={"inline-flex":"",text:"xs"},Le=B({__name:"SakuraLayoutPostTag",props:{title:{},count:{}},setup(g){return(t,p)=>(e(),o("span",we,[a("span",Ce,"#"+d(t.title),1),a("span",Te,"["+d(t.count)+"]",1)]))}}),Pe={class:"yun-text-light",text:"center",p:"2"},Be={class:"justify-center items-end",flex:"~ wrap",gap:"1"},Ne={__name:"tags",setup(g){var D;Z([G({"@type":"CollectionPage"})]);const t=J(),p=K(),m=Q(),{t:i}=N(),l=U(),{tags:k,getTagStyle:r}=ee({primary:(D=m.value.colors)==null?void 0:D.primary}),s=T(()=>t.query.tag||""),v=te(),c=T(()=>v.postList.filter(h=>h.tags?typeof h.tags=="string"?h.tags===s.value:h.tags.includes(s.value):!1)),u=x(),{show:b}=se(u);function E(S){p.push({query:{tag:S}}),b()}const F=oe(l);return(S,h)=>{const I=le,M=Le,R=j("RouterView"),q=Se,z=de,A=re;return e(),$(A,{class:"relative"},{default:_(()=>[f(R,null,{default:_(({Component:H})=>[(e(),$(ae(H),null,{"main-header":_(()=>[f(I,{title:n(F)||n(i)("menu.tags"),"sub-title":s.value,icon:n(l).icon||"i-ri-tag-line",color:n(l).color,cover:n(l).cover},null,8,["title","sub-title","icon","color","cover"])]),"main-content":_(()=>[a("div",Pe,d(n(i)("counter.tags",Array.from(n(k)).length)),1),a("div",Be,[(e(!0),o(L,null,P(Array.from(n(k)).sort(),([w,V])=>(e(),$(M,{key:w,title:w,count:V.count,style:ne(n(r)(V.count)),onClick:De=>E(w.toString())},null,8,["title","count","style","onClick"]))),128))]),f(R)]),"main-nav-before":_(()=>[s.value?(e(),$(z,{key:0,ref_key:"collapse",ref:u,m:"t-4",w:"full"},{default:_(()=>[f(q,{w:"full",m:"b-4",p:"x-20 lt-sm:x-5",posts:c.value},null,8,["posts"])]),_:1},512)):y("v-if",!0)]),_:2},1024))]),_:1})]),_:1})}}};export{Ne as default};
