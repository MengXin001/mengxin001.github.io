import{_ as y}from"./ValaxyMain.vue_vue_type_script_setup_true_lang-bBclPI7H.js";import{_ as i,l as E,q as d,o as m,b as h,w as o,g as s,e as l,h as t,s as e,A as _}from"./app-xtvO_iNw.js";const r=JSON.parse('{"title":"配置气象云图绘图工具-Satpy","description":"一款新鲜的Python气象绘图软件持续更新ing<br>Just A New Toy","frontmatter":{"title":"配置气象云图绘图工具-Satpy","toc":"ture","author":"萌新","avatar":"https://document-1254197101.cos.ap-guangzhou.myqcloud.com/hexo/pic/Head.jpg","categories":"Meteorology","date":"2021-10-22T00:00:00.000Z","comments":true,"updated":"2021-10-30T00:00:00.000Z","description":"一款新鲜的Python气象绘图软件持续更新ing<br>Just A New Toy"},"headers":[{"level":3,"title":"前言","slug":"前言","link":"#前言","children":[]},{"level":3,"title":"Install","slug":"install","link":"#install","children":[]},{"level":3,"title":"Start","slug":"start","link":"#start","children":[]},{"level":3,"title":"单通道绘制示例","slug":"单通道绘制示例","link":"#单通道绘制示例","children":[]},{"level":3,"title":"拓展阅读","slug":"拓展阅读","link":"#拓展阅读","children":[]}],"relativePath":"pages/posts/use-satpy.md","path":"C:/Users/Lenovo/Desktop/mengxin001.github.io/demo/pages/posts/use-satpy.md","lastUpdated":1706450988000}'),F={name:"pages/posts/use-satpy.md",data(){return{data:r,frontmatter:r.frontmatter,$frontmatter:r.frontmatter}},setup(){const a=E();a.meta.frontmatter=Object.assign(a.meta.frontmatter||{},r.frontmatter||{}),d("pageData",r)}},u={id:"前言",tabindex:"-1"},g=s("ul",null,[s("li",null,"支持多种合成产品:雾；沙尘；真彩色等")],-1),f={id:"install",tabindex:"-1"},b=s("code",null,"conda",-1),A=s("div",{class:"language-"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki github-dark vp-code-dark"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#e1e4e8"}},"$ conda create -c conda-forge -n my_satpy_env python satpy")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#e1e4e8"}},"$ conda activate my_satpy_env")])])]),s("pre",{class:"shiki github-light vp-code-light"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#24292e"}},"$ conda create -c conda-forge -n my_satpy_env python satpy")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292e"}},"$ conda activate my_satpy_env")])])]),s("button",{class:"collapse"})],-1),C={id:"start",tabindex:"-1"},v=s("p",null,"绘制全圆盘真彩色图像。准备一份FY-4A的4KM全圆盘L1数据。",-1),D=s("div",{class:"language-Python"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"Python"),s("pre",{class:"shiki github-dark vp-code-dark"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#F97583"}},"import"),s("span",{style:{color:"#E1E4E8"}}," os, glob")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F97583"}},"from"),s("span",{style:{color:"#E1E4E8"}}," satpy.scene "),s("span",{style:{color:"#F97583"}},"import"),s("span",{style:{color:"#E1E4E8"}}," Scene")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"filenames "),s("span",{style:{color:"#F97583"}},"="),s("span",{style:{color:"#E1E4E8"}}," glob.glob("),s("span",{style:{color:"#9ECBFF"}},"'C://Users/Moe/Desktop/FY4A-_AGRI*4000M_V0001.HDF'"),s("span",{style:{color:"#E1E4E8"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"scn "),s("span",{style:{color:"#F97583"}},"="),s("span",{style:{color:"#E1E4E8"}}," Scene(filenames, "),s("span",{style:{color:"#FFAB70"}},"reader"),s("span",{style:{color:"#F97583"}},"="),s("span",{style:{color:"#9ECBFF"}},"'agri_l1'"),s("span",{style:{color:"#E1E4E8"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"composite "),s("span",{style:{color:"#F97583"}},"="),s("span",{style:{color:"#E1E4E8"}}," "),s("span",{style:{color:"#9ECBFF"}},"'true_color'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"scn.load([composite])")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"scn.save_dataset(composite, \\"),s("span",{style:{color:"#FDAEB7","font-style":"italic"}},"filename='{sensor}_{name}.png')")])])]),s("pre",{class:"shiki github-light vp-code-light"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#D73A49"}},"import"),s("span",{style:{color:"#24292E"}}," os, glob")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49"}},"from"),s("span",{style:{color:"#24292E"}}," satpy.scene "),s("span",{style:{color:"#D73A49"}},"import"),s("span",{style:{color:"#24292E"}}," Scene")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E"}},"filenames "),s("span",{style:{color:"#D73A49"}},"="),s("span",{style:{color:"#24292E"}}," glob.glob("),s("span",{style:{color:"#032F62"}},"'C://Users/Moe/Desktop/FY4A-_AGRI*4000M_V0001.HDF'"),s("span",{style:{color:"#24292E"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E"}},"scn "),s("span",{style:{color:"#D73A49"}},"="),s("span",{style:{color:"#24292E"}}," Scene(filenames, "),s("span",{style:{color:"#E36209"}},"reader"),s("span",{style:{color:"#D73A49"}},"="),s("span",{style:{color:"#032F62"}},"'agri_l1'"),s("span",{style:{color:"#24292E"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E"}},"composite "),s("span",{style:{color:"#D73A49"}},"="),s("span",{style:{color:"#24292E"}}," "),s("span",{style:{color:"#032F62"}},"'true_color'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E"}},"scn.load([composite])")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E"}},"scn.save_dataset(composite, \\"),s("span",{style:{color:"#B31D28","font-style":"italic"}},"filename='{sensor}_{name}.png')")])])]),s("button",{class:"collapse"})],-1),k={id:"单通道绘制示例",tabindex:"-1"},B=s("p",null,[l("使用Satpy自带的"),s("code",null,"scn.crop"),l("框定区域，与使用投影相比使用范围会受到限。")],-1),x=s("div",{class:"language-Python"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"Python"),s("pre",{class:"shiki github-dark vp-code-dark"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"channel "),s("span",{style:{color:"#F97583"}},"="),s("span",{style:{color:"#E1E4E8"}}," "),s("span",{style:{color:"#9ECBFF"}},'"C02"')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"filenames "),s("span",{style:{color:"#F97583"}},"="),s("span",{style:{color:"#E1E4E8"}}," glob.glob("),s("span",{style:{color:"#9ECBFF"}},"'C:/Users/Administrator/Desktop/FY4A*'"),s("span",{style:{color:"#E1E4E8"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"scn "),s("span",{style:{color:"#F97583"}},"="),s("span",{style:{color:"#E1E4E8"}}," Scene(filenames, "),s("span",{style:{color:"#FFAB70"}},"reader"),s("span",{style:{color:"#F97583"}},"="),s("span",{style:{color:"#9ECBFF"}},"'agri_l1'"),s("span",{style:{color:"#E1E4E8"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"scn.load([channel])")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"lonmin, latmin, lonmax, latmax "),s("span",{style:{color:"#F97583"}},"="),s("span",{style:{color:"#E1E4E8"}}," "),s("span",{style:{color:"#79B8FF"}},"115"),s("span",{style:{color:"#E1E4E8"}},", "),s("span",{style:{color:"#79B8FF"}},"32"),s("span",{style:{color:"#E1E4E8"}},", "),s("span",{style:{color:"#79B8FF"}},"130"),s("span",{style:{color:"#E1E4E8"}},", "),s("span",{style:{color:"#79B8FF"}},"47")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"scn_c "),s("span",{style:{color:"#F97583"}},"="),s("span",{style:{color:"#E1E4E8"}}," scn.crop("),s("span",{style:{color:"#FFAB70"}},"ll_bbox"),s("span",{style:{color:"#F97583"}},"="),s("span",{style:{color:"#E1E4E8"}},"(lonmin, latmin, lonmax, latmax))")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"sat_w_tb_vis "),s("span",{style:{color:"#F97583"}},"="),s("span",{style:{color:"#E1E4E8"}}," scn_c[Channel].values")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"area_def "),s("span",{style:{color:"#F97583"}},"="),s("span",{style:{color:"#E1E4E8"}}," scn_c[Channel].attrs["),s("span",{style:{color:"#9ECBFF"}},"'area'"),s("span",{style:{color:"#E1E4E8"}},"]")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"crs "),s("span",{style:{color:"#F97583"}},"="),s("span",{style:{color:"#E1E4E8"}}," area_def.to_cartopy_crs()")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"fig, ax "),s("span",{style:{color:"#F97583"}},"="),s("span",{style:{color:"#E1E4E8"}}," plt.subplots("),s("span",{style:{color:"#FFAB70"}},"subplot_kw"),s("span",{style:{color:"#F97583"}},"="),s("span",{style:{color:"#79B8FF"}},"dict"),s("span",{style:{color:"#E1E4E8"}},"("),s("span",{style:{color:"#FFAB70"}},"projection"),s("span",{style:{color:"#F97583"}},"="),s("span",{style:{color:"#E1E4E8"}},"ccrs.PlateCarree()))")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"ax.set_extent([lonmin, lonmax, latmin, latmax], "),s("span",{style:{color:"#FFAB70"}},"crs"),s("span",{style:{color:"#F97583"}},"="),s("span",{style:{color:"#E1E4E8"}},"ccrs.PlateCarree())")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"img "),s("span",{style:{color:"#F97583"}},"="),s("span",{style:{color:"#E1E4E8"}}," plt.imshow(sat_w_tb_vis, "),s("span",{style:{color:"#FFAB70"}},"origin"),s("span",{style:{color:"#F97583"}},"="),s("span",{style:{color:"#9ECBFF"}},"'upper'"),s("span",{style:{color:"#E1E4E8"}},", "),s("span",{style:{color:"#FFAB70"}},"cmap"),s("span",{style:{color:"#F97583"}},"="),s("span",{style:{color:"#E1E4E8"}},"plt.cm.binary_r, "),s("span",{style:{color:"#FFAB70"}},"extent"),s("span",{style:{color:"#F97583"}},"="),s("span",{style:{color:"#E1E4E8"}},"crs.bounds, "),s("span",{style:{color:"#FFAB70"}},"transform"),s("span",{style:{color:"#F97583"}},"="),s("span",{style:{color:"#E1E4E8"}},"crs)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"plt.savefig("),s("span",{style:{color:"#9ECBFF"}},"'4A_AGRI.png'"),s("span",{style:{color:"#E1E4E8"}},", "),s("span",{style:{color:"#FFAB70"}},"dpi"),s("span",{style:{color:"#F97583"}},"="),s("span",{style:{color:"#79B8FF"}},"300"),s("span",{style:{color:"#E1E4E8"}},", "),s("span",{style:{color:"#FFAB70"}},"bbox_inches"),s("span",{style:{color:"#F97583"}},"="),s("span",{style:{color:"#9ECBFF"}},"'tight'"),s("span",{style:{color:"#E1E4E8"}},")")])])]),s("pre",{class:"shiki github-light vp-code-light"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#24292E"}},"channel "),s("span",{style:{color:"#D73A49"}},"="),s("span",{style:{color:"#24292E"}}," "),s("span",{style:{color:"#032F62"}},'"C02"')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E"}},"filenames "),s("span",{style:{color:"#D73A49"}},"="),s("span",{style:{color:"#24292E"}}," glob.glob("),s("span",{style:{color:"#032F62"}},"'C:/Users/Administrator/Desktop/FY4A*'"),s("span",{style:{color:"#24292E"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E"}},"scn "),s("span",{style:{color:"#D73A49"}},"="),s("span",{style:{color:"#24292E"}}," Scene(filenames, "),s("span",{style:{color:"#E36209"}},"reader"),s("span",{style:{color:"#D73A49"}},"="),s("span",{style:{color:"#032F62"}},"'agri_l1'"),s("span",{style:{color:"#24292E"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E"}},"scn.load([channel])")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E"}},"lonmin, latmin, lonmax, latmax "),s("span",{style:{color:"#D73A49"}},"="),s("span",{style:{color:"#24292E"}}," "),s("span",{style:{color:"#005CC5"}},"115"),s("span",{style:{color:"#24292E"}},", "),s("span",{style:{color:"#005CC5"}},"32"),s("span",{style:{color:"#24292E"}},", "),s("span",{style:{color:"#005CC5"}},"130"),s("span",{style:{color:"#24292E"}},", "),s("span",{style:{color:"#005CC5"}},"47")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E"}},"scn_c "),s("span",{style:{color:"#D73A49"}},"="),s("span",{style:{color:"#24292E"}}," scn.crop("),s("span",{style:{color:"#E36209"}},"ll_bbox"),s("span",{style:{color:"#D73A49"}},"="),s("span",{style:{color:"#24292E"}},"(lonmin, latmin, lonmax, latmax))")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E"}},"sat_w_tb_vis "),s("span",{style:{color:"#D73A49"}},"="),s("span",{style:{color:"#24292E"}}," scn_c[Channel].values")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E"}},"area_def "),s("span",{style:{color:"#D73A49"}},"="),s("span",{style:{color:"#24292E"}}," scn_c[Channel].attrs["),s("span",{style:{color:"#032F62"}},"'area'"),s("span",{style:{color:"#24292E"}},"]")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E"}},"crs "),s("span",{style:{color:"#D73A49"}},"="),s("span",{style:{color:"#24292E"}}," area_def.to_cartopy_crs()")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E"}},"fig, ax "),s("span",{style:{color:"#D73A49"}},"="),s("span",{style:{color:"#24292E"}}," plt.subplots("),s("span",{style:{color:"#E36209"}},"subplot_kw"),s("span",{style:{color:"#D73A49"}},"="),s("span",{style:{color:"#005CC5"}},"dict"),s("span",{style:{color:"#24292E"}},"("),s("span",{style:{color:"#E36209"}},"projection"),s("span",{style:{color:"#D73A49"}},"="),s("span",{style:{color:"#24292E"}},"ccrs.PlateCarree()))")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E"}},"ax.set_extent([lonmin, lonmax, latmin, latmax], "),s("span",{style:{color:"#E36209"}},"crs"),s("span",{style:{color:"#D73A49"}},"="),s("span",{style:{color:"#24292E"}},"ccrs.PlateCarree())")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E"}},"img "),s("span",{style:{color:"#D73A49"}},"="),s("span",{style:{color:"#24292E"}}," plt.imshow(sat_w_tb_vis, "),s("span",{style:{color:"#E36209"}},"origin"),s("span",{style:{color:"#D73A49"}},"="),s("span",{style:{color:"#032F62"}},"'upper'"),s("span",{style:{color:"#24292E"}},", "),s("span",{style:{color:"#E36209"}},"cmap"),s("span",{style:{color:"#D73A49"}},"="),s("span",{style:{color:"#24292E"}},"plt.cm.binary_r, "),s("span",{style:{color:"#E36209"}},"extent"),s("span",{style:{color:"#D73A49"}},"="),s("span",{style:{color:"#24292E"}},"crs.bounds, "),s("span",{style:{color:"#E36209"}},"transform"),s("span",{style:{color:"#D73A49"}},"="),s("span",{style:{color:"#24292E"}},"crs)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E"}},"plt.savefig("),s("span",{style:{color:"#032F62"}},"'4A_AGRI.png'"),s("span",{style:{color:"#24292E"}},", "),s("span",{style:{color:"#E36209"}},"dpi"),s("span",{style:{color:"#D73A49"}},"="),s("span",{style:{color:"#005CC5"}},"300"),s("span",{style:{color:"#24292E"}},", "),s("span",{style:{color:"#E36209"}},"bbox_inches"),s("span",{style:{color:"#D73A49"}},"="),s("span",{style:{color:"#032F62"}},"'tight'"),s("span",{style:{color:"#24292E"}},")")])])]),s("button",{class:"collapse"})],-1),w=s("hr",null,null,-1),$={id:"拓展阅读",tabindex:"-1"},S=s("strong",null,"More Useful Skills",-1),P=s("strong",null,"Dealing with the problem when lon > 180",-1),M=s("figure",null,[s("img",{src:"https://gitee.com//MengXin546/CDN/raw/master/img/FengYun-4A_cartopy_202110210630.jpg",alt:"",loading:"lazy",decoding:"async"})],-1);function Y(a,I,N,U,c,V){const n=_,p=y;return m(),h(p,{frontmatter:c.frontmatter,data:c.data},{"main-content-md":o(()=>[s("h3",u,[l("前言 "),t(n,{class:"header-anchor",href:"#前言","aria-label":'Permalink to "前言"'},{default:o(()=>[l("​")]),_:1})]),s("p",null,[l("在网上新寻找到的一款工具，目前绘制FY-4A/FY-3D/Sentinel3/ 参考"),t(n,{href:"https://github.com/zxdawn",target:"_blank",rel:"noreferrer"},{default:o(()=>[l("朝曦dawn")]),_:1}),l(" & "),t(n,{href:"https://satpy.readthedocs.io/en/stable/overview.html",target:"_blank",rel:"noreferrer"},{default:o(()=>[l("官方Doc")]),_:1})]),g,s("h3",f,[l("Install "),t(n,{class:"header-anchor",href:"#install","aria-label":'Permalink to "Install"'},{default:o(()=>[l("​")]),_:1})]),s("p",null,[l("为了确保安装正确，请使用"),b,l("; 下载 "),t(n,{href:"https://docs.conda.io/en/latest/miniconda.html",target:"_blank",rel:"noreferrer"},{default:o(()=>[l("Miniconda")]),_:1})]),A,s("h3",C,[l("Start "),t(n,{class:"header-anchor",href:"#start","aria-label":'Permalink to "Start"'},{default:o(()=>[l("​")]),_:1})]),v,D,s("h3",k,[l("单通道绘制示例 "),t(n,{class:"header-anchor",href:"#单通道绘制示例","aria-label":'Permalink to "单通道绘制示例"'},{default:o(()=>[l("​")]),_:1})]),B,x,w,s("h3",$,[l("拓展阅读 "),t(n,{class:"header-anchor",href:"#拓展阅读","aria-label":'Permalink to "拓展阅读"'},{default:o(()=>[l("​")]),_:1})]),s("ul",null,[s("li",null,[S,l(),t(n,{href:"https://www.dapiya.top/?p=71",target:"_blank",rel:"noreferrer"},{default:o(()=>[l("https://www.dapiya.top/?p=71")]),_:1})]),s("li",null,[P,l(),t(n,{href:"https://github.com/pytroll/satpy/issues/1828",target:"_blank",rel:"noreferrer"},{default:o(()=>[l("https://github.com/pytroll/satpy/issues/1828")]),_:1})])]),M]),"main-header":o(()=>[e(a.$slots,"main-header")]),"main-header-after":o(()=>[e(a.$slots,"main-header-after")]),"main-nav":o(()=>[e(a.$slots,"main-nav")]),"main-content":o(()=>[e(a.$slots,"main-content")]),"main-content-after":o(()=>[e(a.$slots,"main-content-after")]),"main-nav-before":o(()=>[e(a.$slots,"main-nav-before")]),"main-nav-after":o(()=>[e(a.$slots,"main-nav-after")]),comment:o(()=>[e(a.$slots,"comment")]),footer:o(()=>[e(a.$slots,"footer")]),aside:o(()=>[e(a.$slots,"aside")]),"aside-custom":o(()=>[e(a.$slots,"aside-custom")]),default:o(()=>[e(a.$slots,"default")]),_:3},8,["frontmatter","data"])}const T=i(F,[["render",Y]]);export{r as data,T as default};
